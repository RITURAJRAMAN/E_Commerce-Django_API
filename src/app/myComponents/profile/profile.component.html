<div class="container">
  <div class="box">
    <div class="img" style="position: relative">
      <img
        *ngIf="editimagestatus && imgurl == null"
        src="https://cdn.pixabay.com/photo/2018/08/28/12/41/avatar-3637425_640.png"
        alt="img"
        width="170px"
        height="220px"
        style="border-radius: 50%"
      /><img
        *ngIf="editimagestatus && imgurl != null"
        src="http://127.0.0.1:8000{{ imgurl.img }}"
        alt="img"
        width="170px"
        height="220px"
        style="border-radius: 50%"
      />
      <span
        *ngIf="editimagestatus"
        style="position: absolute; top: 85%; right: 40%; color: #ffffff"
      >
        <i
          class="fa-solid fa-pencil"
          style="font-size: 25px; cursor: pointer"
          (click)="editimage()"
        ></i>
      </span>
      <form (ngSubmit)="saveimage()">
        <div>
          <input
            *ngIf="!editimagestatus"
            type="file"
            accept="image/*"
            (change)="uploadFile($event)"
          />
        </div>
        <input
          *ngIf="!editimagestatus"
          type="submit"
          value="Upload"
          class="btn btn-success my-3"
        />
      </form>
    </div>
    <div class="profile">
      <h2>My Profile</h2>
      <hr />
      <form>
        <div class="form-group my-3" style="display: flex">
          <label><strong>Name:&nbsp;</strong></label>
          <span *ngIf="edits">{{ UserArray.name }}</span>
          <input
            *ngIf="!edits"
            type="text"
            [(ngModel)]="UserArray.userName"
            [ngModelOptions]="{ standalone: true }"
            class="form-control"
            id="name"
            placeholder="{{ UserArray.userName }}"
          />
        </div>
        <div class="form-group my-3" style="display: flex">
          <label><strong>Email:&nbsp;</strong></label>
          <span *ngIf="edits">{{ UserArray.email }}</span>
          <input
            *ngIf="!edits"
            type="text"
            [(ngModel)]="UserArray.email"
            [ngModelOptions]="{ standalone: true }"
            class="form-control"
            id="email"
            placeholder="{{ UserArray.email }}"
          />
        </div>
        <button *ngIf="!edits" class="btn" (click)="saveprofile()">Save</button>
      </form>
    </div>
    <div class="options">
      <ul class="nav justify-content-center">
        <li class="nav-item">
          <button class="btn btn-warning" routerLink="/cart">
            Go to My Cart
          </button>
        </li>
        <li class="nav-item">
          <button routerLink="/order" class="btn btn-secondary">
            Go to My Orders
          </button>
        </li>
        <li class="nav-item">
          <button
            routerLink="/addproduct"
            class="btn btn-primary"
            *ngIf="UserArray.email === 'admin@gmail.com'"
          >
            Add Products
          </button>
        </li>
        <li class="nav-item">
          <button
            routerLink="/allorders"
            class="btn btn-primary"
            *ngIf="UserArray.email === 'admin@gmail.com'"
          >
            All Orders
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-danger" (click)="logout()">Logout</button>
        </li>
      </ul>
    </div>
  </div>
</div>
